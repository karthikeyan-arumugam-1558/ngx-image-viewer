{"version":3,"file":"lacuna-image-viewer.mjs","sources":["../../../projects/lacuna-image-viewer/src/lib/image-viewer-config.model.ts","../../../projects/lacuna-image-viewer/src/lib/image-viewer.component.ts","../../../projects/lacuna-image-viewer/src/lib/image-viewer.component.html","../../../projects/lacuna-image-viewer/src/lib/image-viewer.module.ts","../../../projects/lacuna-image-viewer/src/public-api.ts","../../../projects/lacuna-image-viewer/src/lacuna-image-viewer.ts"],"sourcesContent":["export interface ImageViewerConfig {\r\n\tbtnClass?: string; // we observed that it was tricky to override the browser button\r\n\tzoomFactor?: number;\r\n\tcontainerBackgroundColor?: string;\r\n\tallowCtrlWheelZoom?: boolean;\r\n\tallowFullscreen?: boolean;\r\n\tallowKeyboardNavigation?: boolean;\r\n\tallowDrag?: boolean;\r\n\r\n\tbtnShow?: {\r\n\t\tzoomIn?: boolean;\r\n\t\tzoomOut?: boolean;\r\n\t\trotateClockwise?: boolean;\r\n\t\trotateCounterClockwise?: boolean;\r\n\t\tnext?: boolean;\r\n\t\tprev?: boolean;\r\n\t};\r\n\r\n\tbtnIcons?: {\r\n\t\tzoomIn?: string;\r\n\t\tzoomOut?: string;\r\n\t\trotateClockwise?: string;\r\n\t\trotateCounterClockwise?: string;\r\n\t\tnext?: string;\r\n\t\tprev?: string;\r\n\t\tfullscreen?: string;\r\n\t};\r\n\r\n\tcustomBtns?: Array<\r\n\t\t{\r\n\t\t\tname: string;\r\n\t\t\ticon: string;\r\n\t\t}\r\n\t>;\r\n}\r\n\r\nexport class CustomEvent {\r\n\tname: string;\r\n\timageIndex: number;\r\n\r\n\tconstructor(name, imageIndex) {\r\n\t\tthis.name = name;\r\n\t\tthis.imageIndex = imageIndex;\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Optional, Inject, Output, EventEmitter, HostListener, ElementRef, ViewChild } from '@angular/core';\r\nimport { ImageViewerConfig, CustomEvent } from './image-viewer-config.model';\r\nimport { SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nconst DEFAULT_CONFIG: ImageViewerConfig = {\r\n\tbtnClass: 'mat-mini-fab', // we observed that it was tricky to override the browser button\r\n\tzoomFactor: 0.1,\r\n\tcontainerBackgroundColor: '#ccc',\r\n\tallowCtrlWheelZoom: true,\r\n\tallowFullscreen: true,\r\n\tallowKeyboardNavigation: true,\r\n\tallowDrag: true,\r\n\tbtnShow: {\r\n\t\tzoomIn: true,\r\n\t\tzoomOut: true,\r\n\t\trotateClockwise: true,\r\n\t\trotateCounterClockwise: true,\r\n\t\tnext: true,\r\n\t\tprev: true\r\n\t},\r\n\tbtnIcons: {\r\n\t\tzoomIn: 'material-icons zoom-in',\r\n\t\tzoomOut: 'material-icons zoom-out',\r\n\t\trotateClockwise: 'material-icons rotate-clockwise',\r\n\t\trotateCounterClockwise: 'material-icons rotate-counterclock',\r\n\t\tnext: 'material-icons next',\r\n\t\tprev: 'material-icons prev',\r\n\t\tfullscreen: 'material-icons fullscreen',\r\n\t}\r\n};\r\n\r\n@Component({\r\n\tselector: 'ngx-image-viewer',\r\n\ttemplateUrl: './image-viewer.component.html',\r\n\tstyleUrls: ['./image-viewer.component.scss']\r\n})\r\nexport class ImageViewerComponent implements OnInit {\r\n\r\n\t@Input()\r\n\tsrc: (string | SafeResourceUrl | SafeUrl)[];\r\n\r\n\t@Input()\r\n\tindex = 0;\r\n\r\n\t@Input()\r\n\tconfig: ImageViewerConfig;\r\n\r\n\t@Output()\r\n\tindexChange: EventEmitter<number> = new EventEmitter();\r\n\r\n\t@Output()\r\n\tconfigChange: EventEmitter<ImageViewerConfig> = new EventEmitter();\r\n\r\n\t@Output()\r\n\tcustomEvent: EventEmitter<CustomEvent> = new EventEmitter();\r\n\r\n\t@ViewChild('fullscreenElement', { static: true })\r\n\tfullscreenElement: ElementRef;\r\n\r\n\tpublic style = { transform: '', msTransform: '', oTransform: '', webkitTransform: '' };\r\n\tprivate fullscreen = false;\r\n\tpublic loading = true;\r\n\tprivate scale = 1;\r\n\tprivate rotation = 0;\r\n\tprivate translateX = 0;\r\n\tprivate translateY = 0;\r\n\tprivate prevX: number;\r\n\tprivate prevY: number;\r\n\tprivate hovered = false;\r\n\r\n\tconstructor(\r\n\t\t@Inject(DOCUMENT) private document: any,\r\n\t\t@Optional() @Inject('config') public moduleConfig: ImageViewerConfig,\r\n\t) { }\r\n\r\n\tngOnInit() {\r\n\t\tconst merged = this.mergeConfig(DEFAULT_CONFIG, this.moduleConfig);\r\n\t\tthis.config = this.mergeConfig(merged, this.config);\r\n\t\tthis.triggerConfigBinding();\r\n\t}\r\n\r\n\t@HostListener('document:fullscreenchange', ['$event'])\r\n\t@HostListener('document:webkitfullscreenchange', ['$event'])\r\n\t@HostListener('document:mozfullscreenchange', ['$event'])\r\n\t@HostListener('document:MSFullscreenChange', ['$event'])\r\n\tcheckFullscreenmode(e: any){\r\n\t\tif(document.fullscreenElement){\r\n\t\t\tthis.fullscreen = true;\r\n\t\t}else{\r\n\t\t\tthis.fullscreen = false;\r\n\t\t}\r\n\t}\r\n\r\n\t@HostListener('window:keyup.ArrowRight', ['$event'])\r\n\tnextImage(event) {\r\n\t\tif (this.canNavigate(event) && this.index < this.src.length - 1) {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.index++;\r\n\t\t\tthis.triggerIndexBinding();\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\r\n\t@HostListener('window:keyup.ArrowLeft', ['$event'])\r\n\tprevImage(event) {\r\n\t\tif (this.canNavigate(event) && this.index > 0) {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.index--;\r\n\t\t\tthis.triggerIndexBinding();\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\r\n\tzoomIn() {\r\n\t\tthis.scale *= (1 + this.config.zoomFactor);\r\n\t\tthis.updateStyle();\r\n\t}\r\n\r\n\tzoomOut() {\r\n\t\tif (this.scale > this.config.zoomFactor) {\r\n\t\t\tthis.scale /= (1 + this.config.zoomFactor);\r\n\t\t}\r\n\t\tthis.updateStyle();\r\n\t}\r\n\r\n\tscrollZoom(evt: WheelEvent) {\r\n\t\tif (this.config.allowCtrlWheelZoom && evt.ctrlKey) {\r\n\t\t\tevt.deltaY > 0 ? this.zoomOut() : this.zoomIn();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\trotateClockwise() {\r\n\t\tthis.rotation += 90;\r\n\t\tthis.updateStyle();\r\n\t}\r\n\r\n\trotateCounterClockwise() {\r\n\t\tthis.rotation -= 90;\r\n\t\tthis.updateStyle();\r\n\t}\r\n\r\n\tonLoad() {\r\n\t\tthis.loading = false;\r\n\t}\r\n\r\n\tonLoadStart() {\r\n\t\tthis.loading = true;\r\n\t}\r\n\r\n\tonDragOver(evt) {\r\n\t\tif(this.config.allowDrag){\r\n\t\t\tthis.translateX += (evt.clientX - this.prevX);\r\n\t\t\tthis.translateY += (evt.clientY - this.prevY);\r\n\t\t\tthis.prevX = evt.clientX;\r\n\t\t\tthis.prevY = evt.clientY;\r\n\t\t\tthis.updateStyle();\r\n\t\t}\r\n\t}\r\n\r\n\tonDragStart(evt) {\r\n\t\tif(this.config.allowDrag){\r\n\t\t\tif (evt.dataTransfer && evt.dataTransfer.setDragImage) {\r\n\t\t\t\tevt.dataTransfer.setDragImage(evt.target.nextElementSibling, 0, 0);\r\n\t\t\t}\r\n\t\t\tthis.prevX = evt.clientX;\r\n\t\t\tthis.prevY = evt.clientY;\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleFullscreen() {\r\n\t\tif (!this.fullscreen) {\r\n\t\t\tthis.openFullscreen();\r\n\t\t} else {\r\n\t\t\tthis.closeFullscreen();\r\n\t\t}\r\n\t}\r\n\r\n\topenFullscreen() {\r\n\t\tif (this.fullscreenElement.nativeElement.requestFullscreen) {\r\n\t\t\tthis.fullscreenElement.nativeElement.requestFullscreen();\r\n\t\t} else if (this.fullscreenElement.nativeElement.mozRequestFullScreen) {\r\n\t\t\t/* Firefox */\r\n\t\t\tthis.fullscreenElement.nativeElement.mozRequestFullScreen();\r\n\t\t} else if (this.fullscreenElement.nativeElement.webkitRequestFullscreen) {\r\n\t\t\t/* Chrome, Safari and Opera */\r\n\t\t\tthis.fullscreenElement.nativeElement.webkitRequestFullscreen();\r\n\t\t} else if (this.fullscreenElement.nativeElement.msRequestFullscreen) {\r\n\t\t\t/* IE/Edge */\r\n\t\t\tthis.fullscreenElement.nativeElement.msRequestFullscreen();\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Unable to open in fullscreen\");\r\n\t\t}\r\n\t}\r\n\r\n\tcloseFullscreen() {\r\n\t\tif (this.document.exitFullscreen) {\r\n\t\t\tthis.document.exitFullscreen();\r\n\t\t} else if (this.document.mozCancelFullScreen) {\r\n\t\t\t/* Firefox */\r\n\t\t\tthis.document.mozCancelFullScreen();\r\n\t\t} else if (this.document.webkitExitFullscreen) {\r\n\t\t\t/* Chrome, Safari and Opera */\r\n\t\t\tthis.document.webkitExitFullscreen();\r\n\t\t} else if (this.document.msExitFullscreen) {\r\n\t\t\t/* IE/Edge */\r\n\t\t\tthis.document.msExitFullscreen();\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Unable to close fullscreen\");\r\n\t\t}\r\n\t}\r\n\r\n\ttriggerIndexBinding() {\r\n\t\tthis.indexChange.emit(this.index);\r\n\t}\r\n\r\n\ttriggerConfigBinding() {\r\n\t\tthis.configChange.next(this.config);\r\n\t}\r\n\r\n\tfireCustomEvent(name, imageIndex) {\r\n\t\tthis.customEvent.emit(new CustomEvent(name, imageIndex));\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.scale = 1;\r\n\t\tthis.rotation = 0;\r\n\t\tthis.translateX = 0;\r\n\t\tthis.translateY = 0;\r\n\t\tthis.updateStyle();\r\n\t}\r\n\r\n\t@HostListener('mouseover')\r\n\tonMouseOver() {\r\n\t\tthis.hovered = true;\r\n\t}\r\n\r\n\t@HostListener('mouseleave')\r\n\tonMouseLeave() {\r\n\t\tthis.hovered = false;\r\n\t}\r\n\r\n\tprivate canNavigate(event: any) {\r\n\t\treturn event == null || (this.config.allowKeyboardNavigation && this.hovered);\r\n\t}\r\n\r\n\tprivate updateStyle() {\r\n\t\tthis.style.transform = `translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`;\r\n\t\tthis.style.msTransform = this.style.transform;\r\n\t\tthis.style.webkitTransform = this.style.transform;\r\n\t\tthis.style.oTransform = this.style.transform;\r\n\t}\r\n\r\n\tprivate mergeConfig(defaultValues: ImageViewerConfig, overrideValues: ImageViewerConfig): ImageViewerConfig {\r\n\t\tlet result: ImageViewerConfig = { ...defaultValues };\r\n\t\tif (overrideValues) {\r\n\t\t\tresult = { ...defaultValues, ...overrideValues };\r\n\r\n\t\t\tif (overrideValues.btnIcons) {\r\n\t\t\t\tresult.btnIcons = { ...defaultValues.btnIcons, ...overrideValues.btnIcons };\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n","<div #fullscreenElement class=\"img-container\" [style.backgroundColor]=\"config.containerBackgroundColor\"\r\n\t(wheel)=\"scrollZoom($event)\" (dragover)=\"onDragOver($event)\">\r\n\t<img [src]=\"src[index]\" [ngStyle]=\"style\" alt=\"Image not found...\" (dragstart)=\"onDragStart($event)\"\r\n\t\t(load)=\"onLoad()\" (loadstart)=\"onLoadStart()\" />\r\n\t<!-- Div below will be used to hide the 'ghost' image when dragging -->\r\n\t<div></div>\r\n\t<div class=\"spinner-container\" *ngIf=\"loading\">\r\n\t\t<div class=\"spinner\"></div>\r\n\t</div>\r\n\r\n\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" *ngIf=\"config.btnShow.rotateCounterClockwise\"\r\n\t\t(click)=\"rotateCounterClockwise()\">\r\n\t\t<span [class]=\"config.btnIcons.rotateCounterClockwise\"></span>\r\n\t</button>\r\n\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" *ngIf=\"config.btnShow.rotateClockwise\" (click)=\"rotateClockwise()\">\r\n\t\t<span [class]=\"config.btnIcons.rotateClockwise\"></span>\r\n\t</button>\r\n\r\n\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" *ngIf=\"config.btnShow.zoomOut\" (click)=\"zoomOut()\">\r\n\t\t<span [class]=\"config.btnIcons.zoomOut\"></span>\r\n\t</button>\r\n\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" *ngIf=\"config.btnShow.zoomIn\" (click)=\"zoomIn()\">\r\n\t\t<span [class]=\"config.btnIcons.zoomIn\"></span>\r\n\t</button>\r\n\r\n\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" *ngFor=\"let cBtn of config.customBtns\"\r\n\t\t(click)=\"fireCustomEvent(cBtn.name, index)\">\r\n\t\t<span [class]=\"cBtn.icon\"></span>\r\n\t</button>\r\n\r\n\t<button type=\"button\" id=\"ngx-fs-btn\" mat-mini-fab [class]=\"config.btnClass\" (click)=\"toggleFullscreen()\"\r\n\t\t*ngIf=\"config.allowFullscreen\">\r\n\t\t<span [class]=\"config.btnIcons.fullscreen\"></span>\r\n\t</button>\r\n\r\n\t<div class=\"nav-button-container\" *ngIf=\"src.length > 1\">\r\n\t\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" (click)=\"prevImage($event)\" [disabled]=\"index === 0\">\r\n\t\t\t<span [class]=\"config.btnIcons.prev\"></span>\r\n\t\t</button>\r\n\t\t<button type=\"button\" mat-mini-fab [class]=\"config.btnClass\" (click)=\"nextImage($event)\"\r\n\t\t\t[disabled]=\"index === src.length - 1\">\r\n\t\t\t<span [class]=\"config.btnIcons.next\"></span>\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { ImageViewerComponent } from './image-viewer.component';\r\nimport { ImageViewerConfig } from './image-viewer-config.model';\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tMatButtonModule,\r\n\t\tMatIconModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tImageViewerComponent,\r\n\t],\r\n\texports: [\r\n\t\tImageViewerComponent,\r\n\t]\r\n})\r\nexport class ImageViewerModule {\r\n\tstatic forRoot(config?: ImageViewerConfig): ModuleWithProviders<ImageViewerModule> {\r\n\t\treturn {\r\n\t\t\tngModule: ImageViewerModule,\r\n\t\t\tproviders: [{ provide: 'config', useValue: config }]\r\n\t\t};\r\n\t}\r\n}\r\n","/*\r\n * Public API Surface of lacuna-image-viewer\r\n */\r\n\r\nexport * from './lib/image-viewer.module';\r\nexport { ImageViewerComponent } from './lib/image-viewer.component';\r\nexport { ImageViewerConfig, CustomEvent } from './lib/image-viewer-config.model';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}